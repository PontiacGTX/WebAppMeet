@using Microsoft.AspNetCore.SignalR.Client;
@inherits ChatBoxComponentBase
@code {
    public string ccsMenuAttachment { get; set; } = "display:none;";
    protected async Task OnMouseOverAttachItem(MouseEventArgs e)
    {
        ccsMenuAttachment = "display:inline-block;";
    }

    protected async Task OnClickOnAttachItem(MouseEventArgs e)
    {
        ccsMenuAttachment = ccsMenuAttachment == "display:inline-block;" ? "display:none;" : "display:inline-block;";
    }

    protected async Task OnMouseOutAttachmentMenu(MouseEventArgs e)
    {
        ccsMenuAttachment = "display:none;";
    }




    
}

<div class="container chatbox" style="margin-top:10%;">
    
        <div>
        <h4>Chat</h4>
            @if(!MessageList.Any())
            {
                
                 var text = string.Join("\n", MessageList);
                <div style="float: left; width: 80%;">
                    <textarea @ref=TextAreaRef disabled style="width:100%; max-width: 100%;height:236px">@text  </textarea>
                 
                   <div class="row">
                        <div class="col col-lg-11">
                               <textarea style="height:200px;resize: none;width:96%;" @bind=Message @bind:event="oninput" @onkeydown="OnKeyPressed"></textarea>

                         </div>
                    <div style="display: flex;justify-content: center;flex-direction: row;align-items: flex-end; flex-wrap:wrap;" class="col-1">
                            <div style="display: flex;justify-content: center;flex-direction: row;align-items: flex-end; flex-wrap:wrap;">
                            <div class="attachmentMenu" @onclick="OnMouseOutAttachmentMenu" style="@ccsMenuAttachment">
                                    <ul>
                                        <li>1</li>
                                        <li>2</li>
                                        <li>3</li>
                                    </ul>

                                  </div>
                               <img src="/images//icons/icons-clip.png" @onclick="OnClickOnAttachItem" @onmouseover="OnMouseOverAttachItem" style="width:42px;height:42px;" />
                                <a class="btn btn-success" style="bottom:-77%;position:relative;border-radius:35%;" @onclick="OnButtonSend">Send</a>
                             </div>
                        </div>
                    </div>
                </div>
                <UserActivityIndicatorComponent @ref="this.UserActivityIndicatorComponent"></UserActivityIndicatorComponent>
            }
            else
            {
                var text = string.Join("\n", MessageList);

                <div style="float: left; width: 80%;">
                        <textarea @ref=TextAreaRef  disabled  style="width:100%; max-width: 100%;height:236px"  >@text  </textarea>
                    <div class="row">
                        <div class="col col-lg-11">
                               <textarea style="height:200px;resize: none;width:96%;" @bind=Message @bind:event="oninput" @onkeydown="OnKeyPressed"></textarea>

                         </div>
                    <div style="display: flex;justify-content: center;flex-direction: row;align-items: flex-end; flex-wrap:wrap;" class="col-1">

                           <div style="display: flex;justify-content: center;flex-direction: row;align-items: flex-end; flex-wrap:wrap;" >
                            <div class="attachmentMenu" @onclick="OnMouseOutAttachmentMenu" style="@ccsMenuAttachment">
                                <ul>
                                    <li>1</li>
                                    <li>2</li>
                                    <li>3</li>
                                </ul>

                            </div>
                                <img src="/images//icons/icons-clip.png" @onclick="OnClickOnAttachItem"  @onmouseover="OnMouseOverAttachItem" style="width:42px;height:42px;" />
                                <a class="btn btn-success" style="bottom:-77%;position:relative;border-radius:35%;" @onclick="OnButtonSend">Send</a>
                            </div>
                        </div>
                    </div>
                </div>
                <UserActivityIndicatorComponent @ref="this.UserActivityIndicatorComponent"></UserActivityIndicatorComponent>
            }
        </div>
        
    <section class="container" >
         <div class="row">
    
        
           
        </div>
       
        
    </section>
</div>
